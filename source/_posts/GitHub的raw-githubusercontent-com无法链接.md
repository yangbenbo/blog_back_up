---
title: GitHub的raw.githubusercontent.com无法链接
date: 2020-12-27 17:57:04
categories:
- ROS
tags:
- DNS
---

## 无法使用rosdep update更新
`rosdep update`报错
    
    <urlopen error <urlopen error [Errno 111] Connection refused> (https://raw.githubusercontent.com/ros/rosdistro/master/index-v4.yaml)>

排查问题
`ping`延迟太小了,国外服务器不可能延迟这么低,应该是本地的ip
    
    ping raw.githubusercontent.com      
    
    64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.030 ms
    64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.036 ms
    64 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.025 ms

进入[https://www.ipaddress.com/](https://www.ipaddress.com/),输入githubusercontent.com,得到 
199.232.96.133,发现`ping`延迟很高,说明这才是真正的ip

    ping 199.232.96.133
    
    64 bytes from 199.232.96.133: icmp_seq=1 ttl=42 time=239 ms
    64 bytes from 199.232.96.133: icmp_seq=2 ttl=42 time=267 ms
    64 bytes from 199.232.96.133: icmp_seq=3 ttl=42 time=287 ms
说明是DNS解析ip地址出了问题

解决方案:
1. 把真是ip写入host
        
        sudo gedit /etc/hosts
        # 增加一行  
        199.232.96.133 raw.githubusercontent.com
        
2. 修改DNS解析
    
        sudo gedit /etc/resolv.conf
        # 增加两行
        nameserver 8.8.8.8 #google域名服务器
        nameserver 8.8.4.4 #google域名服务器
    进入这个文件发现提示不建议修改**DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN** 
    不过也能用,之后再研究一下ubuntu DNS解析的内容
    

## 引用
1. [GitHub的raw.githubusercontent.com无法链接](https://www.cnblogs.com/xyann/p/12738326.html)
2. [ubuntu安装ROS进行到rosdep update时出现错误，如ERROR: unable to process source ...](https://blog.csdn.net/mrh1714348719/article/details/103803110)
3. [Ubuntu14.04上DNS引发的血案](http://hshsh.me/post/2016-08-09-ubuntu-14.04-dnsmasq/)            